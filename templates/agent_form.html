{% extends "base.html" %}
{% block title %}Agente{% endblock %}

{% block content %}

<h2>{{ 'Modifica' if agent else 'Nuovo' }} agente</h2>

{% if error %}
<div class="alert">{{ error }}</div>
{% endif %}

<form method="post" enctype="multipart/form-data" class="card glass agent-form">

  <h3>Dati principali</h3>

  <label>Slug (per URL)</label>
  <input name="slug"
         value="{{ agent.slug if agent else '' }}"
         {% if agent %}readonly{% endif %}
         required>

  <label>Nome completo</label>
  <input name="name" value="{{ agent.name if agent else '' }}" required>

  <label>Azienda</label>
  <input name="company" value="{{ agent.company if agent else '' }}">

  <label>Posizione lavorativa</label>
  <input name="role" value="{{ agent.role if agent else '' }}">

  <label>Descrizione / Bio</label>
  <textarea name="bio" rows="3">{{ agent.bio if agent else '' }}</textarea>

  <h3>Contatti</h3>

  <label>Telefono mobile</label>
  <input name="phone_mobile" value="{{ agent.phone_mobile if agent else '' }}">

  <label>Telefono ufficio</label>
  <input name="phone_office" value="{{ agent.phone_office if agent else '' }}">

  <label>Email (separa con virgola)</label>
  <input name="emails" value="{{ agent.emails if agent else '' }}">

  <label>Siti web (separa con virgola)</label>
  <input name="websites" value="{{ agent.websites if agent else '' }}">

  <h3>Social</h3>

  <label>Facebook</label>
  <input name="facebook" value="{{ agent.facebook if agent else '' }}">

  <label>Instagram</label>
  <input name="instagram" value="{{ agent.instagram if agent else '' }}">

  <label>TikTok</label>
  <input name="tiktok" value="{{ agent.tiktok if agent else '' }}">

  <label>Telegram</label>
  <input name="telegram" value="{{ agent.telegram if agent else '' }}">

  <label>WhatsApp (numero o link)</label>
  <input name="whatsapp" value="{{ agent.whatsapp if agent else '' }}">

  <h3>Dati aziendali</h3>

  <label>PEC</label>
  <input name="pec" value="{{ agent.pec if agent else '' }}">

  <label>Partita IVA</label>
  <input name="piva" value="{{ agent.piva if agent else '' }}">

  <label>Codice SDI</label>
  <input name="sdi" value="{{ agent.sdi if agent else '' }}">

  <label>Indirizzi (uno per riga)</label>
  <textarea name="addresses" rows="3">{{ agent.addresses if agent else '' }}</textarea>

  <h3>Media</h3>

  <label>Foto profilo</label>
  <input type="file" name="photo" accept="image/*">

  <label>Galleria immagini (max 12)</label>
  <input type="file" name="gallery" multiple accept="image/*">

  <label>PDF 1</label>
  <input type="file" name="pdf1" accept="application/pdf">

  <label>PDF 2</label>
  <input type="file" name="pdf2" accept="application/pdf">

  <button class="btn primary" type="submit">Salva</button>

</form>

{% endblock %}
